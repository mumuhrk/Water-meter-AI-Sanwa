# AI Water SANWA (LINE Bot ‡∏≠‡πà‡∏≤‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏±‡∏î‡∏ô‡πâ‡∏≥)

## üìñ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ **LINE Chatbot ‡∏ä‡∏∑‡πà‡∏≠ "AI Water SANWA"** ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏≤‡∏Å‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏±‡∏î‡∏ô‡πâ‡∏≥‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏±‡∏î‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö AI ‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

‡∏ï‡∏±‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢:
1.  **LINE Messaging API** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô Chatbot Interface
2.  **‡πÇ‡∏°‡πÄ‡∏î‡∏• AI (Machine Learning)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û (‡πÄ‡∏ä‡πà‡∏ô YOLO, ViT)
3.  **Backend API (Flask)** ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Python ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Webhook ‡∏à‡∏≤‡∏Å LINE ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÇ‡∏°‡πÄ‡∏î‡∏• AI
4.  **‡∏£‡∏∞‡∏ö‡∏ö Deployment** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Docker ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Container ‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÑ‡∏õ‡∏£‡∏±‡∏ô‡∏ö‡∏ô Google Cloud Run

---

## üõ†Ô∏è ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

* **Backend:** Python, Flask
* **AI/ML:** PyTorch, YOLO, Vision Transformer (ViT)
* **Bot Framework:** LINE Messaging API
* **Deployment:** Docker, Docker Hub, Google Cloud Run

---

## üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô 

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ï‡∏≤‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠:

### 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LINE Bot
1.  ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **LINE Developers** (`developers.line.biz`) ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Provider ‡πÅ‡∏•‡∏∞ **Messaging API channel**
2.  ‡πÉ‡∏ô‡πÅ‡∏ó‡πá‡∏ö "Basic settings" ‡∏à‡∏∞‡πÑ‡∏î‡πâ `Channel ID`
3.  ‡πÉ‡∏ô‡πÅ‡∏ó‡πá‡∏ö "Messaging API" ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏≤ `Channel secret` ‡πÅ‡∏•‡∏∞ `Channel access token (long-lived)` **‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ**

### 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (Local Environment)
1.  ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á **Visual Studio Code** ‡πÅ‡∏•‡∏∞ **Python** (‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ï‡∏¥‡πä‡∏Å "Add python.exe to PATH" ‡∏ï‡∏≠‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)
2.  ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á **Extension "Python"** ‡∏ö‡∏ô VS Code
3.  ‡∏™‡∏£‡πâ‡∏≤‡∏á **Virtual Environment** (`venv`) ‡πÅ‡∏•‡∏∞ Activate
4.  ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `pip install -r requirements.txt`

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (Code)
1.  ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏• AI ‡∏ó‡∏±‡πâ‡∏á 3 ‡πÑ‡∏ü‡∏•‡πå (`digits.pt`, `model-1-semi.pt`, `TB.pt`)
2.  ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå **`WMDP.py`** ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Path ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏±‡πâ‡∏á 3 ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3.  ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå **`app.py`** ‡πÅ‡∏•‡∏∞‡∏ô‡∏≥ `Channel secret` ‡∏Å‡∏±‡∏ö `Channel access token` ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠ 1 ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î `configuration = Configuration(...)` ‡πÅ‡∏•‡∏∞ `handler = WebhookHandler(...)`

### 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞ Push Docker Image
1.  ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á **Docker Desktop** (‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Virtualization ‡πÄ‡∏õ‡πá‡∏ô "Enabled" ‡πÉ‡∏ô Task Manager)
2.  ‡∏™‡∏£‡πâ‡∏≤‡∏á **Repository ‡∏ö‡∏ô Docker Hub** (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Public)
3.  Build Docker image ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `t43xd/water-meter-api` ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠ repository ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì):
    ```bash
    docker build -t t43xd/water-meter-api:latest .
    ```
4.  Push image ‡∏Ç‡∏∂‡πâ‡∏ô Docker Hub ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:
    ```bash
    docker push t43xd/water-meter-api:latest
    ```

### 5. Deploy ‡∏ö‡∏ô Google Cloud Run
1.  ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Google Cloud Console** ‡πÅ‡∏•‡∏∞‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Cloud Run** -> **Services**
2.  **Create Service** ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Deploy one revision from an existing container image"
3.  ‡πÉ‡∏™‡πà **Container image URL** ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Docker Hub (‡πÄ‡∏ä‡πà‡∏ô `docker.io/t43xd/water-meter-api:v3.1`)
4.  ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ **Authentication** ‡πÄ‡∏õ‡πá‡∏ô **"Allow public access"**
5.  ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Resources (CPU, Memory) ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î **Create**
6.  ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Deploy ‡πÄ‡∏™‡∏£‡πá‡∏à ‡πÉ‡∏´‡πâ **‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å URL** ‡∏Ç‡∏≠‡∏á Service ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ

### 6. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Webhook
1.  ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà **LINE Developers** -> **Messaging API**
2.  ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Webhook settings** ‡∏Å‡∏î **Edit**
3.  ‡∏ô‡∏≥ URL ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Cloud Run ‡∏°‡∏≤‡∏ß‡∏≤‡∏á ‡πÅ‡∏•‡∏∞**‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ `/webhook`** (‡πÄ‡∏ä‡πà‡∏ô `https://...run.app/webhook`)
4.  ‡∏Å‡∏î **Verify**
5.  ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô LINE ID ‡∏Ç‡∏≠‡∏á Bot (‡πÄ‡∏ä‡πà‡∏ô `@743iwcqc`) ‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏±‡∏î‡∏ô‡πâ‡∏≥

---

## üë• ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥
* Mr. Natchasit Chukiatkhajorn 
* Mr. Sujinda Jaipinta 
* Mr. Thanakrit Neangla 
* Mr. Borwornwich Pimason 
* Mr. Siwakorn Muangmala 
* Mr. Kwanchai Eurviriyanukul 
